<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./files/main.css">
</head>
<body>
    <div id = topbar>
        <div id = "nodes">
            <button onclick="selectAll()" class="node selected bulk">Alle</button>
            <button onclick="toggleSelect(this)" class="node selected">shiiit</button>
            <button onclick="toggleSelect(this)" class="node selected">shiiit</button>
        </div>
        <button id="settings"><svg xmlns="http://www.w3.org/2000/svg" viewBox="-5.6 -4.1 11.2 8.2">
	<path d="M -5 3 L 5 3 Q 6 3.5 5 4 L -5 4 Q -6 3.5 -5 3 M -5 -0.5 L 5 -0.5 Q 6 0 5 0.5 L -5 0.5 Q -6 0 -5 -0.5 M -5 -4 L 5 -4 Q 6 -3.5 5 -3 L -5 -3 Q -6 -3.5 -5 -4" stroke="#000000" stroke-width="0" fill="#FFFFFF"/></svg></button>
    </div>
    <div id = "scroll">
        <div id = "grid">

        </div>
    </div>
</body>
<script>
    function loadItem(name, stock, expected, min, img){
        let im = img?img:"./err.jpg";
        let node = document.createElement("div");
        node.classList.add("item");
        node.style.setProperty("--img", `url(${im})`);
        node.innerHTML = `
        <div class = "itemInner">
            ${name}
        </div>
        `;
        grid.appendChild(node);
        return node;
    }
    function updateGrid(){
        const selectedNodex = [...document.querySelectorAll(".node.selected:not(.bulk)")].map(node=>node.innerText);
        console.log(selectedNodex);
    }
    function selectAll(){
        document.querySelectorAll(".node").forEach(node => node.classList.add("selected"));
        updateGrid();
    }
    function toggleSelect(node){
        if(node.classList.contains("selected")){
            document.querySelector(".node.bulk").classList.remove("selected");
        }
        node.classList.toggle("selected");
        updateGrid();
    }
    let i =0;
    setInterval(() => {
        loadItem(i);
        i++;
    }, 100);
</script>
</html>